define(["raphael","./treemap-squarify"],function(a,b){return function(){"use strict";b.draw=function(){function c(a){return a&&a.constructor===Array}function d(a){return a&&a.constructor===Function}function e(a,b){var c;for(c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function f(a,b,d,e,g){var h,i,j,k;if(c(b[0][0]))for(h=0;h<b.length;h++)j=g.slice(),j.push(h),f(a,b[h],d,e,j);else for(h=0;h<b.length;h++){for(j=g.slice(),j.push(h),k=d,i=0;i<j.length;i++)k=k[j[i]];e.draw(b[h],k,j)}}function g(g,h,i,j,k,l){var m,n,o,p,q;l="undefined"==typeof l?[]:l,p=function(){function a(b){var d,e=0;if(c(b[0]))for(d=0;d<b.length;d++)e+=a(b[d]);else for(d=0;d<b.length;d++)e+=b[d].length;return e}function b(a){var d,e=0;if(c(a[0]))for(d=0;d<a.length;d++)e+=b(a[d]);else for(d=0;d<a.length;d++)e+=1;return e}function d(a,b){var c=a*b,d=Math.pow(c,.5);return Math.min(d/f,20)}function e(a){return{fill:"#FCFCFC","font-size":d(a[2]-a[0],a[3]-a[1])}}var f=a(k)/b(k);return e}();var r=function(a,b){var c=["hsb(0,1,0.4)","hsb(0.2,1,0.4)","hsb(0.4,1,0.4)","hsb(0.6,1,0.4)","hsb(0.8,1,0.4)"],d=1===b.length?c[2]:c[(b[0]+2)%5];return{stroke:"FEFEFE",fill:d}};q=function(){function b(b,c,f){var g,h,i,j,k,n=b[0],o=b[1],q=b[2],s=b[3];g=m.rect(n,o,q-n,s-o),i=d(l.box)?l.box(b,f):l.box,i=e(r(b,f),i),"fill-opacity"in i&&(k=a.getRGB(i.fill),k.error||(i.fill="rgba("+k.r+","+k.g+","+k.b+","+i["fill-opacity"]+")")),g.attr(i),h=m.text((n+q)/2,(o+s)/2,c),j=d(l.label)?l.label(b,f):l.label,j=e(p(b,f),j),h.attr(j),h.getBBox().width>q-n&&h.getBBox().width<=s-o&&h.rotate(-90)}return b}(),l.background="undefined"==typeof l.background?{}:l.background,l.label="undefined"==typeof l.label?{}:l.label,l.box="undefined"==typeof l.box?{}:l.box,l.draw="undefined"==typeof l.draw?q:l.draw,m=new a(g,h,i),n=m.rect(0,0,h,i),n.attr(l.background),o=b.generate(j,h,i),f(m,o,k,l,[])}return g}()}(),b});
//# sourceMappingURL=treemap-raphael.min.map