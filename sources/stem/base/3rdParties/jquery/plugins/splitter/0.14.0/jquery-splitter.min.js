!function(a,b){var c=0,d=null,e=[],f=null;a.fn.split=function(g){function h(a){if("number"==typeof a)return a;if("string"==typeof a){var b=a.match(/^([0-9]+)(px|%)$/);if(b){if("px"==b[2])return+b[1];if("vertical"==l.orientation)return o*+b[1]/100;if("horizontal"==l.orientation)return p*+b[1]/100}}}var i=this.data("splitter");if(i)return i;var j,k,l=a.extend({limit:100,orientation:"horizontal",position:"50%",invisible:!1,onDragStart:a.noop,onDragEnd:a.noop,onDrag:a.noop},g||{});this.settings=l;var m,n=this.children();"vertical"==l.orientation?(j=n.first().addClass("left_panel"),k=j.next().addClass("right_panel"),m="vsplitter"):"horizontal"==l.orientation&&(j=n.first().addClass("top_panel"),k=j.next().addClass("bottom_panel"),m="hsplitter"),l.invisible&&(m+=" splitter-invisible");var o=this.width(),p=this.height(),q=c++;this.addClass("splitter_panel");var r,s=a("<div/>").addClass(m).mouseenter(function(){d=q}).mouseleave(function(){d=null}).insertAfter(j),t=a.extend(this,{refresh:function(){var a=this.width(),b=this.height();(o!=a||p!=b)&&(o=this.width(),p=this.height(),t.position(r))},position:function(){return"vertical"==l.orientation?function(a,c){if(a===b)return r;r=h(a);var d=s.width(),e=d/2;if(l.invisible){var f=j.width(r).outerWidth();k.width(t.width()-f),s.css("left",f-e)}else{var f=j.width(r-e).outerWidth();k.width(t.width()-f-d),s.css("left",f)}return c||t.find(".splitter_panel").trigger("splitter.resize"),t}:"horizontal"==l.orientation?function(a,c){if(a===b)return r;r=h(a);var d=s.height(),e=d/2;if(l.invisible){var f=j.height(r).outerHeight();k.height(t.height()-f),s.css("top",f-e)}else{var f=j.height(r-e).outerHeight();k.height(t.height()-f-d),s.css("top",f)}return c||t.find(".splitter_panel").trigger("splitter.resize"),t}:a.noop}(),orientation:l.orientation,limit:l.limit,isActive:function(){return d===q},destroy:function(){t.removeClass("splitter_panel"),s.unbind("mouseenter"),s.unbind("mouseleave"),"vertical"==l.orientation?(j.removeClass("left_panel"),k.removeClass("right_panel")):"horizontal"==l.orientation&&(j.removeClass("top_panel"),k.removeClass("bottom_panel")),t.unbind("splitter.resize"),t.find(".splitter_panel").trigger("splitter.resize"),e[q]=null,s.remove();for(var b=!1,d=e.length;d--;)if(null!==e[d]){b=!0;break}b||(a(document.documentElement).unbind(".splitter"),a(window).unbind("resize.splitter"),t.data("splitter",null),e=[],c=0)}});t.bind("splitter.resize",function(){var a=t.position();"vertical"==t.orientation&&a>t.width()?a=t.width()-t.limit-1:"horizontal"==t.orientation&&a>t.height()&&(a=t.height()-t.limit-1),a<t.limit&&(a=t.limit+1),t.position(a,!0)});var u;return"vertical"==l.orientation?u=u>o-l.limit?o-l.limit:h(l.position):"horizontal"==l.orientation&&(u=u>p-l.limit?p-l.limit:h(l.position)),u<l.limit&&(u=l.limit),t.position(u,!0),0==e.length&&(a(window).bind("resize.splitter",function(){a.each(e,function(a,b){b.refresh()})}),a(document.documentElement).bind("mousedown.splitter",function(b){return null!==d&&1==b.which?(f=e[d],a('<div class="splitterMask"></div>').css("cursor",s.css("cursor")).insertAfter(f),f.settings.onDragStart(b),!1):void 0}).bind("mouseup.splitter",function(b){f&&(a(".splitterMask").remove(),f.settings.onDragEnd(b),f=null)}).bind("mousemove.splitter",function(a){if(null!==f){var b=f.limit,c=f.offset();if("vertical"==f.orientation){var d=a.pageX-c.left;d<=f.limit?d=f.limit+1:d>=f.width()-b&&(d=f.width()-b-1),d>f.limit&&d<f.width()-b&&(f.position(d,!0),f.find(".splitter_panel").trigger("splitter.resize"),a.preventDefault())}else if("horizontal"==f.orientation){var e=a.pageY-c.top;e<=f.limit?e=f.limit+1:e>=f.height()-b&&(e=f.height()-b-1),e>f.limit&&e<f.height()-b&&(f.position(e,!0),f.find(".splitter_panel").trigger("splitter.resize"),a.preventDefault())}f.settings.onDrag(a)}})),e.push(t),t.data("splitter",t),t}}(jQuery);